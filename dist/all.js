"use strict";function PageNavigation(){this._curPage=$(".selected"),this._pageIdx=$(".selected").find("li")[0].textContent,this._leftArrow=$("#one-left"),this._rightArrow=$("#one-right"),this.ee=new EventEmitter,this.init()}$(function(){var t=new PageNavigation,e=$(".todo-list");t.on("move",function(t){var i="http://128.199.76.9:8002/bbq9234/todo/page?start="+t[2]+"&limit="+t[3];console.log(i),$.ajax({method:"GET",url:i}).done(function(t,i){console.log(t);var a=$(TEMPLATE.template({tasks:t}));e.children().remove(),a.appendTo(e)}).fail(function(t,e){alert("failed to get tasks from server.")})})}),PageNavigation.prototype.init=function(){$(".page-nav a.page-num li").on("click",this.click.bind(this)),$("#one-right").on("click",this.moveRight.bind(this)),$("#one-left").on("click",this.moveLeft.bind(this))},PageNavigation.prototype.click=function(t){this._curPage.removeClass("selected"),this._curPage=$(t.target).parent(),this._curPage.addClass("selected"),this._pageIdx=this._curPage.find("li")[0].textContent,this.disableArrow(),this.ee.emit("move",{index:3*(this._pageIdx-1),max:3},this.getIndex(),3)},PageNavigation.prototype.getIndex=function(){return 3*(this._pageIdx-1)},PageNavigation.prototype.moveRight=function(t){$("#one-right").hasClass("disabled")||this.click({target:$(".selected").next().find("li")[0]})},PageNavigation.prototype.moveLeft=function(t){$("#one-left").hasClass("disabled")||this.click({target:$(".selected").prev().find("li")[0]})},PageNavigation.prototype.disableArrow=function(){this._curPage.next().hasClass("page-num")?this._rightArrow.removeClass("disabled"):this._rightArrow.addClass("disabled"),this._curPage.prev().hasClass("page-num")?this._leftArrow.removeClass("disabled"):this._leftArrow.addClass("disabled")},PageNavigation.prototype.on=function(t,e){this.ee.on(t,e)};var TEMPLATE=function(){var t=$("#entry-template").html();return Handlebars.registerPartial("task",$("#task-partial").html()),{template:Handlebars.compile(t)}}();